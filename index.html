<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunidad CGN | Inicio</title>
    <link rel="manifest" href="/pwa/manifest.json">
    <meta name="theme-color" content="#FFD1A9">
    <link rel="icon" type="image/png" href="/icons/Logo-CGN.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Soluci√≥n para el desbordamiento */
        html, body {
            overflow-x: hidden;
        }
        
        img {
            max-width: 100%;
            height: auto;
        }
        
        /* Carrusel mejorado */
        .carrusel-container {
            overflow: hidden;
        }
        
        .carrusel {
            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: calc(100% - 40px);
            gap: 20px;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scrollbar-width: none;
            padding: 0 20px 20px;
        }
        
        .carrusel::-webkit-scrollbar {
            display: none;
        }
        
        .tarjeta-novedad {
            scroll-snap-align: start;
            min-width: 0;
        }
        
        /* Prevenir desbordamiento de texto */
        .tarjeta-contenido, .seccion-futuro li, .footer-links a {
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        /* Mejoras responsive */
        @media (max-width: 640px) {
            .botones-comunidad {
                flex-direction: column;
                gap: 1rem;
            }
            
            .boton-comunidad {
                width: 100%;
            }
            
            .main-container {
                padding: 1rem;
                margin: 0.5rem auto;
            }
            
            .seccion-futuro {
                padding: 1.25rem;
            }
            
            .carrusel {
                grid-auto-columns: calc(100% - 20px);
                padding: 0 10px 15px;
            }
            
            .tarjeta-novedad {
                margin: 0 5px;
            }
            
            .back-to-top {
                right: 15px;
                width: 40px;
                height: 40px;
            }
        }
        
        /* Estilos base consistentes */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFF5EB;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            scroll-behavior: smooth;
            color: #1F2937;
        }
        
        .header-comunidad {
            background-color: #FFF5EB;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .header-logo {
            height: 40px;
            width: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .header-title {
            font-weight: 700;
            font-size: 1.5rem;
            color: #1F2937;
        }
        
        .menu-toggle {
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 24px;
            width: 30px;
            padding: 0;
        }
        
        .menu-bar {
            height: 3px;
            width: 100%;
            background-color: #1F2937;
            border-radius: 2px;
            transition: all 0.3s ease;
        }
        
        .menu-toggle.activo .menu-bar:nth-child(1) {
            transform: translateY(10px) rotate(45deg);
        }
        
        .menu-toggle.activo .menu-bar:nth-child(2) {
            opacity: 0;
        }
        
        .menu-toggle.activo .menu-bar:nth-child(3) {
            transform: translateY(-10px) rotate(-45deg);
        }
        
        .menu-desplegable {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            width: 100%;
            max-width: 300px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: translateY(-20px);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .menu-desplegable.abierto {
            transform: translateY(0);
            opacity: 1;
            pointer-events: all;
        }
        
        .menu-desplegable ul {
            list-style: none;
            padding: 1rem 0;
        }
        
        .menu-desplegable li {
            padding: 0;
        }
        
        .menu-desplegable a {
            display: block;
            padding: 0.75rem 1.5rem;
            color: #4B5563;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        
        .menu-desplegable a:hover {
            background-color: #FFD1A9;
            color: #1F2937;
            padding-left: 1.75rem;
        }
        
        .main-container {
            max-width: 700px;
            margin: 2rem auto;
            padding: 2rem;
            border-radius: 0.5rem;
            background-color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            flex: 1;
            text-align: center;
        }
        
        .logo-comunidad {
            height: 120px;
            width: 120px;
            margin: 0 auto 1.5rem;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #FFD1A9;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 1rem;
        }
        
        .subtitle {
            color: #4B5563;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .botones-comunidad {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }
        
        .boton-comunidad {
            background-color: #FFD1A9;
            color: #1F2937;
            font-weight: 600;
            padding: 0.9rem 2rem;
            border-radius: 0.375rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            text-decoration: none;
            min-width: 180px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .boton-comunidad:hover {
            background-color: #ffb07a;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .boton-comunidad:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .boton-comunidad.secundario {
            background-color: white;
            color: #1976d2;
            border: 2px solid #1976d2;
        }
        
        .boton-comunidad.secundario:hover {
            background-color: #f0f7ff;
        }
        
        .carrusel-titulo {
            font-size: 1.75rem;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
            text-align: center;
        }
        
        .carrusel-titulo::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background-color: #FFD1A9;
        }
        
        .tarjeta-novedad {
            background: #FFF5EB;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .tarjeta-novedad:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
        }
        
        .tarjeta-imagen {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background-color: #FFD1A9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1F2937;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .tarjeta-contenido {
            padding: 1.5rem;
            text-align: left;
        }
        
        .tarjeta-titulo {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 0.75rem;
        }
        
        .tarjeta-descripcion {
            color: #4B5563;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1.25rem;
        }
        
        .tarjeta-enlace {
            display: inline-block;
            background-color: #FFD1A9;
            color: #1F2937;
            padding: 0.5rem 1.25rem;
            border-radius: 0.375rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .tarjeta-enlace:hover {
            background-color: #ffb07a;
        }
        
        .carrusel-controles {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0 30px;
        }
        
        .carrusel-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #E5E7EB;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carrusel-control.activo {
            background-color: #FFD1A9;
            transform: scale(1.2);
        }
        
        .seccion-futuro {
            background-color: #f9fafb;
            border-radius: 0.5rem;
            padding: 2rem;
            text-align: left;
            margin-top: 2rem;
            border-left: 4px solid #FFD1A9;
        }
        
        .seccion-futuro h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 1.5rem;
            text-align: center;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .seccion-futuro h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background-color: #FFD1A9;
        }
        
        .seccion-futuro ul {
            list-style: none;
            padding-left: 0;
        }
        
        .seccion-futuro li {
            padding: 0.75rem 0;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
        }
        
        .seccion-futuro li:last-child {
            border-bottom: none;
        }
        
        .seccion-futuro li::before {
            content: '‚úì';
            color: #FFD1A9;
            font-weight: bold;
            margin-right: 1rem;
            font-size: 1.2rem;
        }
        
        footer {
            background-color: #FFF5EB;
            padding: 2.5rem 1rem;
            border-top: 1px solid #E5E7EB;
            margin-top: auto;
            position: relative;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2.5rem;
        }
        
        .footer-section h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background-color: #FFD1A9;
        }
        
        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .footer-links a {
            color: #4B5563;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            color: #d8971d;
            transform: translateX(5px);
        }
        
        .footer-links a i {
            margin-right: 0.75rem;
            color: #FFD1A9;
            width: 20px;
            text-align: center;
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 2rem auto 0;
            padding-top: 1.5rem;
            border-top: 1px solid #E5E7EB;
            text-align: center;
            color: #4B5563;
            font-size: 0.9rem;
        }
        
        .copyright {
            font-weight: 600;
            color: #1F2937;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .copyright span {
            color: #FFD1A9;
        }
        
        .back-to-top {
            position: absolute;
            top: -25px;
            right: 20px;
            background-color: #FFD1A9;
            color: #374151;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .back-to-top:hover {
            background-color: #ffb07a;
            transform: translateY(-3px);
        }
        
        .back-to-top:active {
            transform: translateY(0);
        }
        
        .cgn-icon {
            height: 50px;
            width: 100px;
            border-radius: 4px;
            object-fit: cover;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .cgn-icon:hover {
            transform: scale(1.1);
        }
        
        /* Estilos para el contenedor de bienvenida GDL */
        .contenedor-bienvenida-gdl {
            position: relative;
            width: calc(100% + 4rem); /* Compensar el padding del main-container (2rem a cada lado) */
            min-height: 330px;
            margin: -2rem -2rem 2rem -2rem; /* Margen negativo para compensar el padding del main-container */
            border-radius: 0; /* Eliminar el border-radius para que toque los bordes */
            overflow: hidden;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
        }
        .bienvenida-gdl-fondo {
            width: 100%;
            min-height: 330px;
            max-height: 350px;
            object-fit: cover;
            border-radius: 10px;
            filter: brightness(0.85) blur(1.5px);
            transition: opacity 0.5s ease-in-out;
        }
        .bienvenida-gdl-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: flex-start;
            justify-content: flex-start;
        }
        .bienvenida-gdl-tarjeta {
            margin: 24px 0 0 24px;
            background: rgba(255,255,255,0.18);
            backdrop-filter: blur(8px);
            border-radius: 18px;
            padding: 24px 32px 20px 32px;
            box-shadow: 0 4px 24px 0 rgba(0,0,0,0.10);
            border: 1.5px solid rgba(255,255,255,0.25);
            width: 330px;
            max-width: 90vw;
        }
        .bienvenida-gdl-titulo {
            font-size: 1rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0,0,0,0.18);
            margin-bottom: 0.5rem;
        }
        .bienvenida-gdl-info {
            text-align: left;
            font-size: 0.8rem;
            font-weight: 600;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0,0,0,0.18);
        }
        .bienvenida-gdl-cede {
            font-size: 0.5rem;
            font-weight: 500;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .bienvenida-gdl-cede-span {
            display: inline-block;
            background: rgba(255,255,255,0.25);
            border-radius: 6px;
            padding: 2px 10px;
            font-size: 1rem;
        }


        /* --- Estilos para la Tarjeta Publicitaria --- */
.tarjeta-publicidad {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: white;
    border-top: 1px solid #E5E7EB;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.08);
    z-index: 1000;
    transition: transform 0.4s ease-in-out;
    
    /* ¬°CORRECCI√ìN CLAVE! Usamos Flexbox para el layout principal */
    display: flex;
    align-items: center;
    justify-content: space-between; /* Espacia los dos bloques principales */
    padding: 0.75rem 1.5rem;
    gap: 1.5rem; /* Espacio entre el contenido y el bot√≥n de acci√≥n */
    box-sizing: border-box; /* Asegura que el padding no cause desbordamiento */
}

.tarjeta-publicidad.oculta {
    transform: translateY(100%);
}

/* ¬°NUEVO! Contenedor para agrupar la secci√≥n izquierda */
.publicidad-principal {
    display: flex;
    align-items: center;
    gap: 1rem; /* Espacio entre "X", icono y texto */
    flex-grow: 1; /* Permite que este bloque crezca para llenar el espacio */
    min-width: 0; /* Previene desbordamiento en contenedores flex */
}

.publicidad-icono {
    background-color: #FFD1A9;
    color: #1F2937;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.publicidad-texto {
    min-width: 0;
}

.publicidad-titulo {
    font-weight: 700;
    font-size: 1rem;
    margin: 0;
    white-space: nowrap; /* Evita que el t√≠tulo se rompa */
    overflow: hidden;
    text-overflow: ellipsis; /* A√±ade "..." si el t√≠tulo es muy largo */
}

.publicidad-descripcion {
    margin: 0;
    font-size: 0.85rem;
    color: #4B5563;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.publicidad-acciones {
    flex-shrink: 0; /* Evita que el bot√≥n de acci√≥n se encoja */
}

.boton-publicidad {
    background-color: #FFD1A9;
    color: #1F2937;
    font-weight: 600;
    padding: 0.6rem 1.2rem;
    border-radius: 0.375rem;
    text-decoration: none;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.boton-publicidad:hover {
    background-color: #ffb07a;
    transform: translateY(-2px);
}

/* ¬°CORRECCI√ìN CLAVE! El bot√≥n de cerrar es ahora un elemento flex */
.boton-cerrar {
    background: transparent;
    border: none;
    color: #9CA3AF;
    font-size: 1.3rem;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 50%;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.boton-cerrar:hover {
    color: #1F2937;
    background-color: #F3F4F6; /* Un fondo sutil al pasar el rat√≥n */
}


/* --- Mejoras responsive --- */
@media (max-width: 600px) {
    body {
        padding-bottom: 140px; /* M√°s espacio en m√≥viles */
    }

    .tarjeta-publicidad {
        flex-direction: column; /* Apila los elementos verticalmente */
        align-items: stretch; /* Estira los hijos al 100% del ancho */
        padding: 1rem;
        gap: 0.75rem;
    }

    .publicidad-principal {
        width: 100%;
    }

    .publicidad-acciones {
        width: 100%;
    }

    .boton-publicidad {
        display: block; /* El bot√≥n ocupa todo el ancho */
        text-align: center;
        width: 100%;
        padding: 0.75rem;
    }

    .publicidad-titulo {
        font-size: 0.95rem;
    }
}

    

    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="text-gray-800">
    <header class="header-comunidad">
        <div class="header-content">
            <img src="/icons/Logo-CGN.png" alt="Logo Comunidad" class="header-logo">
            <span class="header-title">CGN</span>
        </div>
        <button class="menu-toggle" id="menuToggle" aria-label="Abrir men√∫ de navegaci√≥n">
            <span class="menu-bar"></span>
            <span class="menu-bar"></span>
            <span class="menu-bar"></span>
        </button>
        <nav class="menu-desplegable" id="menuDesplegable">
            <ul>
                <li><a href="/index.html">Inicio</a></li>
                <li><a href="/faq.html">FAQ</a></li>
                <li><a href="/socios.html">Socios</a></li>
                <li><a href="/ajustes.html">Ajustes</a></li>
                <li><a href="/contacto.html">Contacto</a></li>
                <li><a href="/las-mejoras.html">Las Mejoras</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="main-container">
        <!-- NUEVO CONTENEDOR DE BIENVENIDA ESTILO TARJETA SOBRE FONDO -->
        <div class="contenedor-bienvenida-gdl">
          <img src="/imagenes/pexels-hazily-light-672092024-23744635.jpg" alt="No deber√≠as ver esto..." class="bienvenida-gdl-fondo">
          <div class="bienvenida-gdl-overlay">
            <div class="bienvenida-gdl-tarjeta">
              <div class="bienvenida-gdl-titulo">¬°Hola! Buenas {timestrap}, ¬øQu√© tal?</div>
              <div class="bienvenida-gdl-info">Guadalajara - {timestrap} p.m.</div>
              <div class="bienvenida-gdl-cede">
                <span class="bienvenida-gdl-cede-span">
                  <i class="fa-solid fa-house"></i> Cede
                </span>
              </div>
            </div>
          </div>
        </div>
        <!-- FIN NUEVO CONTENEDOR DE BIENVENIDA -->

        <!--
        <img src="/icons/Logo-CGN.png" alt="Logo Comunidad" class="logo-comunidad">
        <h1>Bienvenido a la Comunidad CGN</h1>
        <div class="subtitle">
            Un espacio para compartir, aprender y conectar con personas afines. 
            √önete a nuestra comunidad de entusiastas de la tecnolog√≠a, gaming y desarrollo.
        </div> -->

        <div class="botones-comunidad">
            <a href="/categorias.html" class="boton-comunidad secundario">
                <i class="fas fa-list"></i>„Ö§Ver categor√≠as
            </a>
        </div>
        
        <!-- Carrusel de Novedades - Solucionado -->
        <div class="carrusel-container">
            <h2 class="carrusel-titulo">üî• Recursos populares</h2>
            <div class="carrusel" id="carrusel">
                <!-- Tarjeta 1 -->
                <div class="tarjeta-novedad">
                    <div class="tarjeta-imagen" style="background-color: #a9cbff7e;">
                        <i class="fa-solid fa-globe fa-3x"></i>
                    </div>
                    <div class="tarjeta-contenido">
                        <h3 class="tarjeta-titulo">Conoce los grupos</h3>
                        <p class="tarjeta-descripcion">Participa en los grupos m√°s relevantes y activos, conoce a gente con tus mismos intereses.</p>
                        <a href="/Subpaginas/grupos-cmd.html" class="tarjeta-enlace">Ver p√°gina</a>
                    </div>
                </div>
                
                <!-- Tarjeta 2 -->
                <div class="tarjeta-novedad">
                    <div class="tarjeta-imagen" style="background-color: #85ff7a7c;">
                        <i class="fa-solid fa-medal fa-3x"></i>
                    </div>
                    <div class="tarjeta-contenido">
                        <h3 class="tarjeta-titulo">Analisis de actividad</h3>
                        <p class="tarjeta-descripcion">Conoce la actividad de cualquier grupo con nuestro preciso algoritmo de analisis.</p>
                        <a href="/Subpaginas/estadisticas.html" class="tarjeta-enlace">Ver p√°gina</a>
                    </div>
                </div>
                
                <!-- Tarjeta 3 -->
                <div class="tarjeta-novedad">
                    <div class="tarjeta-imagen" style="background-color: #ff9e5e80;">
                        <i class="fa-solid fa-file-invoice fa-3x"></i>
                    </div>
                    <div class="tarjeta-contenido">
                        <h3 class="tarjeta-titulo">Las reglas</h3>
                        <p class="tarjeta-descripcion">Conoce las reglas de la comunidad, solo unos minutos y evita alguna eliminaci√≥n. üõÇ</p>
                        <a href="/Subpaginas/reglas-generales.html" class="tarjeta-enlace">Ver p√°gina</a>
                    </div>
                </div>

                <!-- Tarjeta 4 -->
                <div class="tarjeta-novedad">
                    <div class="tarjeta-imagen" style="background-color: #5ef4ff80;">
                        <i class="fa-solid fa-database fa-3x"></i>
                    </div>
                    <div class="tarjeta-contenido">
                        <h3 class="tarjeta-titulo">Conoce la base de datos</h3>
                        <p class="tarjeta-descripcion"><strong>¬øNotas a alguien actuando raro?</strong><br>Ahora puedes corroborar las sospechas gracias a la base de datos de la comunidad.</p>
                        <a href="/base-de-datos.html" class="tarjeta-enlace">Ver p√°gina</a>
                    </div>
                </div>
                
               

            </div>
            
            <div class="carrusel-controles">
                <div class="carrusel-control activo" data-index="0"></div>
                <div class="carrusel-control" data-index="1"></div>
                <div class="carrusel-control" data-index="2"></div>
                <div class="carrusel-control" data-index="3"></div>
            </div>
        </div>
        
        <div class="seccion-futuro">
            <h2>Pr√≥ximamente en CGN</h2>
            <ul>
                <li>Noticias y anuncios exclusivos de la comunidad</li>
                <li>Calendario de eventos y actividades programadas</li>
                <li>Recursos y gu√≠as para nuevos miembros</li>
                <li>Galer√≠a de proyectos destacados por miembros</li>
            </ul>
        </div>

        <!--  Secci√≥n de apoyo a la comunidad  -->
        <div class="seccion-futuro" style="background-color: #fff5eb; border-left: 4px solid #ffb07a;">
            <h2>Apoya a la Comunidad</h2>
            <p style="text-align: center; margin-bottom: 1.5rem; color: #4B5563;">
                Tu apoyo nos ayuda a mantener y mejorar la comunidad. Cada contribuci√≥n hace la diferencia.
            </p>
            <div style="display: flex; justify-content: center; margin-top: 1rem;">
                <div class="ccwallet__tipbox__button" data-code="DXLMKFEO" data-button-type="button" data-button-text=" Apoya el Proyecto" data-button-style="white"></div>
            </div>
        </div>
    </div>


      <!-- ========== Tarjeta Publicitaria Corregida ========== -->
      <div id="tarjeta-publicidad" class="tarjeta-publicidad">

        <!-- Contenedor principal para la informaci√≥n (logo, texto, etc.) -->
        <div class="publicidad-principal">
            <!-- ¬°NUEVO! Bot√≥n "X" como un elemento flex normal a la izquierda -->
            <button id="cerrar-publicidad" class="boton-cerrar" aria-label="Cerrar publicidad">
                <i class="fas fa-times"></i>
            </button>
            <div class="publicidad-icono">
                <i class="fa-solid fa-wand-magic-sparkles fa-2x"></i>
            </div>
            <div class="publicidad-texto">
                <h3 class="publicidad-titulo">¬°P√°gina actualizada!</h3>
                <p class="publicidad-descripcion">Nuevos cambios visuales y mejoras de rendimiento.</p>
            </div>
        </div>

        <!-- Contenedor para los botones de acci√≥n -->
        <div class="publicidad-acciones">
            <a href="/las-mejoras/act-999.html" class="boton-publicidad">Ver cambios</a>
        </div>
    </div>
    <!-- ========== Fin Tarjeta Publicitaria ========== -->

    
    <!-- Pie de p√°gina con bot√≥n "Volver arriba" -->
    <footer>
        <!-- Bot√≥n "Volver arriba" -->
        <div class="back-to-top" id="backToTopBtn" title="Volver arriba">
            <i class="fas fa-arrow-up"></i>
        </div>
        
        <div class="footer-container">
            <div class="footer-section">
                <h3>Recursos</h3>
                <div class="footer-links">
                 <a href="/index.html"><i class="fas fa-home"></i> P√°gina principal</a>
                 <a href="/Subpaginas/servidor-ds.html"><i class="fab fa-discord"></i> Conoce el servidor de Discord</a>
                 <a href="/Subpaginas/servidor-mc.html"><i class="fas fa-cube"></i> El servidor de Minecraft Bedrock</a>
                 <a href="/Subpaginas/ser-admin.html"><i class="fas fa-user-shield"></i> Ser administrador</a>
                 <a href="/Subpaginas/reglas-generales.html"><i class="fas fa-book"></i> Reglas generales</a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Comunidad</h3>
                <div class="footer-links">
                  <a href="https://discord.gg/FBNZ5v7keR"><i class="fab fa-discord"></i> Servidor Discord</a>
                  <a href="https://t.me/CGNcj"><i class="fab fa-telegram"></i> Grupo Telegram</a>
                  <a href="https://whatsapp.com/channel/0029Vad404cKQuJGXZERG13V"><i class="fab fa-whatsapp"></i> Canal oficial WhatsApp</a>
                  <a href="https://t.me/community_cgn"><i class="fab fa-telegram"></i> Comunidad Telegram</a>
                  <a href="/redes.html"><i class="fa-solid fa-map-location-dot"></i> Links directos</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p class="copyright">
                <img src="/imagenes/bandera-jal.png" 
                     alt="Logo Comunidad CGN" 
                     class="cgn-icon">
                Comunidad CGN | <span id="currentYear">2022-2025</span>
            </p>
        </div>
    </footer>

    <!-- PARTE AUXILIAR, FALTA DE JS -->
    <noscript>
        <meta http-equiv="refresh" content="0;url=/respaldo/js-desactivado.html" />
      </noscript>
       
    <script>
        // Actualizar a√±o actual en el pie de p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Array de im√°genes disponibles para el fondo
            const imagenesFondo = [
                'imagenes/GDL-noche.jpg',
                'imagenes/bandera-jal.png',
                'imagenes/GDL-tarde.jpeg',
                'imagenes/GDL-antigua.jpeg',
                'imagenes/cielo-y-truenos.png',
                'imagenes/lluvia-ciudad1.jpeg',
                'imagenes/Gotas-en-cristal1.png',
                'imagenes/fondo-desenfocado-desde-el-cristal.png',
                'imagenes/Fondo-basico1.jpeg',
                'imagenes/pexels-media-25383765.jpeg',
                'imagenes/pexels-media-19141349.jpeg',
                'imagenes/pexels-media-11216257.jpeg',
                'imagenes/pexels-media-4673308.jpeg',
                'imagenes/pexels-media-19761008.jpeg',
                'imagenes/pexels-media-6032899.jpeg',
                'imagenes/pexels-media-15538064.jpeg',
                'imagenes/pexels-media-18117557.jpeg',
                'imagenes/pexels-media-16460735.jpeg',
                'imagenes/pexels-media-19118027.jpeg',
                'imagenes/pexels-media-1707825.jpeg',
                'imagenes/pexels-media-2478657.jpeg',
                'imagenes/pexels-media-7230730-1721236051218.jpeg',
                'imagenes/pexels-media-4044426-1721236084919.jpeg',
                'imagenes/pexels-media-4306577.jpeg',
                'imagenes/pexels-media-763398.jpeg',
                'imagenes/pexels-media-1154510.jpeg',
                'imagenes/pexels-media-2448749-1721236244590.jpeg',
                'imagenes/pexels-media-1824270.jpeg',
                'imagenes/pexels-media-20879291.jpeg',
                'imagenes/pexels-media-12281180.jpeg',
                'imagenes/pexels-media-1291281.jpeg',
                'imagenes/pexels-media-7400269.jpeg',
                'imagenes/pexels-media-13799831.jpeg',
                'imagenes/pexels-media-18069491.jpeg',
                'imagenes/pexels-media-16130551.jpeg',
                'imagenes/pexels-media-13684735.jpeg',
                'imagenes/pexels-media-15967212.jpeg',
                'imagenes/pexels-rezk-assaf-115684157-17424156.jpg',
                'imagenes/pexels-exactissime-30054768.jpg',
                'imagenes/pexels-hazily-light-672092024-23744635.jpg',
                'imagenes/üòâ.jpeg',
                'imagenes/Mexico City GP 2024 Desktop Wallpaper 1.jpg',
                'imagenes/pexels-media-23531761.jpeg'
            ];

            // Funci√≥n para seleccionar imagen inicial
            function seleccionarImagenInicial() {
                const imagenFondo = document.querySelector('.bienvenida-gdl-fondo');
                // Seleccionar una imagen aleatoria del array
                const imagenInicial = imagenesFondo[Math.floor(Math.random() * imagenesFondo.length)];
                imagenFondo.src = imagenInicial;
                return imagenInicial; // Retornamos la imagen inicial para referencia
            }

            // Funci√≥n para cambiar la imagen de fondo
            function cambiarImagenFondo(imagenActual) {
                const imagenFondo = document.querySelector('.bienvenida-gdl-fondo');
                
                // Filtrar la imagen actual para no repetirla
                const imagenesDisponibles = imagenesFondo.filter(img => img !== imagenActual);
                
                // Seleccionar una imagen aleatoria de las disponibles
                const nuevaImagen = imagenesDisponibles[Math.floor(Math.random() * imagenesDisponibles.length)];
                
                // Aplicar transici√≥n suave
                imagenFondo.style.opacity = '0';
                setTimeout(() => {
                    imagenFondo.src = nuevaImagen;
                    imagenFondo.style.opacity = '1';
                }, 500);

                return nuevaImagen; // Retornamos la nueva imagen para la siguiente iteraci√≥n
            }

            // Funci√≥n para actualizar el saludo y la hora de Guadalajara
            function actualizarSaludoYHora() {
                // Obtener la hora actual en Guadalajara
                const opciones = {
                    timeZone: 'America/Mexico_City',
                    hour: 'numeric',
                    minute: 'numeric',
                    hour12: true
                };
                
                const horaGDL = new Date().toLocaleTimeString('es-MX', opciones);
                const horaActual = new Date().toLocaleTimeString('es-MX', {
                    timeZone: 'America/Mexico_City',
                    hour: 'numeric',
                    hour12: false
                });
                
                // Determinar el saludo seg√∫n la hora
                let saludo;
                if (horaActual >= 5 && horaActual < 12) {
                    saludo = '¬°Hola! Buenos d√≠as, ¬øQu√© tal?';
                } else if (horaActual >= 12 && horaActual < 19) {
                    saludo = '¬°Hola! Buenas tardes, ¬øQu√© tal?';
                } else {
                    saludo = '¬°Hola! Buenas noches, ¬øQu√© tal?';
                }
                
                // Actualizar los elementos en el DOM
                document.querySelector('.bienvenida-gdl-titulo').textContent = saludo;
                document.querySelector('.bienvenida-gdl-info').textContent = `Guadalajara - ${horaGDL}`;

                // Calcular el tiempo hasta el siguiente minuto
                const ahora = new Date();
                const segundosHastaSiguienteMinuto = 60 - ahora.getSeconds();
                
                // Programar la siguiente actualizaci√≥n al inicio del siguiente minuto
                setTimeout(() => {
                    actualizarSaludoYHora();
                }, segundosHastaSiguienteMinuto * 1000);
            }
            
            // Inicializar la imagen y comenzar el ciclo de cambios
            let imagenActual = seleccionarImagenInicial();
            
            // Cambiar imagen cada 30 segundos
            setInterval(() => {
                imagenActual = cambiarImagenFondo(imagenActual);
            }, 30000);
            
            // Ejecutar la funci√≥n al cargar la p√°gina
            actualizarSaludoYHora();
            
            const currentYearElement = document.getElementById('currentYear');
            const currentYear = new Date().getFullYear();
            currentYearElement.textContent = `2022-${currentYear}`;
            
            // Bot√≥n "Volver arriba"
            const backToTopBtn = document.getElementById('backToTopBtn');
            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Men√∫ hamburguesa
            const menuToggle = document.getElementById('menuToggle');
            const menuDesplegable = document.getElementById('menuDesplegable');
            menuToggle.addEventListener('click', () => {
                menuDesplegable.classList.toggle('abierto');
                menuToggle.classList.toggle('activo');
            });
            document.addEventListener('click', (e) => {
                if (!menuDesplegable.contains(e.target) && !menuToggle.contains(e.target)) {
                    menuDesplegable.classList.remove('abierto');
                    menuToggle.classList.remove('activo');
                }
            });
            
            // Registro del Service Worker para PWA
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('/pwa/service-worker.js');
                });
            }
            
            // Carrusel de novedades simplificado
            const carrusel = document.getElementById('carrusel');
            const controles = document.querySelectorAll('.carrusel-control');
            
            // Event listeners para los controles
            controles.forEach(control => {
                control.addEventListener('click', () => {
                    const index = parseInt(control.getAttribute('data-index'));
                    
                    // Actualizar controles
                    controles.forEach(c => c.classList.remove('activo'));
                    control.classList.add('activo');
                    
                    // Desplazar carrusel
                    carrusel.scrollTo({
                        left: index * carrusel.offsetWidth,
                        behavior: 'smooth'
                    });
                });
            });
            
            // Actualizar controles al desplazar manualmente
            carrusel.addEventListener('scroll', () => {
                const scrollPosition = carrusel.scrollLeft;
                const cardWidth = carrusel.offsetWidth;
                const currentIndex = Math.round(scrollPosition / cardWidth);
                
                controles.forEach((control, i) => {
                    control.classList.toggle('activo', i === currentIndex);
                });
            });
        });

 // Codigo tarjeta de publicidad //
 //                              //
        document.addEventListener('DOMContentLoaded', function () {
const tarjetaPublicidad = document.getElementById('tarjeta-publicidad');
const botonCerrar = document.getElementById('cerrar-publicidad');

if (tarjetaPublicidad && botonCerrar) {
    botonCerrar.addEventListener('click', function () {
        tarjetaPublicidad.classList.add('oculta');

        setTimeout(() => {
            tarjetaPublicidad.style.display = 'none';
        }, 500); // Coincide con la duraci√≥n de la transici√≥n en CSS
    });

    console.log('‚úÖ Tarjeta de publicidad inicializada correctamente');
} else {
    console.warn('‚ö†Ô∏è Elementos necesarios no encontrados: verifique los IDs "tarjeta-publicidad" y/o "cerrar-publicidad"');
}

});


    </script>
    <script async src="https://cwallet.com/opencc.js"></script>

    <!-- Bot√≥n flotante para abrir el chat -->
    <button class="open-chat-btn" onclick="openChat()">
        <i class="fas fa-comments"></i>Ayuda
    </button>

    <!-- Overlay que contiene el chat modal -->
    <div class="overlay" id="chatOverlay">
        <div class="chat-container">
            <div class="chat-header">
                <div class="header-left">
                    <div class="header-image">
                        <img src="/icons/Logo-CGN.png" alt="Logo de soporte" id="chatImage">
                    </div>
                    <div class="header-title">Soporte CGN</div>
                </div>
                <div class="header-buttons">
                    <button class="header-btn" onclick="toggleMaximize()" title="Maximizar/Minimizar chat">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="header-btn" onclick="clearChat()" title="Borrar chat">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                    <button class="header-btn" onclick="closeChat()" title="Cerrar chat">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="chat-body" id="chatBody"></div>
            <div class="chat-footer" id="chatFooter"></div>
        </div>
    </div>

    <style>
        /* Bot√≥n para abrir chat */
        .open-chat-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #0000003f;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(10px);
            color: #28292c;
            border: none;
            padding: 14px 24px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 50;
            transition: all 0.3s ease;
        }
        
        .open-chat-btn:hover {
            background: #835d0c3f;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }
        
        .open-chat-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .open-chat-btn i {
            font-size: 18px;
        }

        /* Overlay y modal de chat */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        
        .overlay.show {
            display: flex;
        }
        
        .overlay.show ~ body {
            overflow: hidden;
        }
        
        .chat-container {
            width: 100%;
            max-width: 400px;
            height: 600px;
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .chat-container.maximized {
            max-width: 100%;
            width: 100%;
            height: 100vh;
            border-radius: 0;
            transform: none;
        }
        
        .overlay.show .chat-container {
            transform: translateY(0);
            opacity: 1;
        }
        
        .overlay.show .chat-container.maximized {
            transform: none;
        }

        /* Header del chat */
        .chat-header {
            background: #FFD1A9;
            color: #374151;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px;
            border-top-left-radius: 16px;
            border-top-right-radius: 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .header-image {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 2px solid #fff;
        }
        
        .header-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .header-title {
            font-weight: 700;
        }
        
        .header-buttons {
            display: flex;
            gap: 8px;
        }
        
        .header-btn {
            background: rgba(255, 255, 255, 0.6);
            color: #374151;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .header-btn:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
        }
        
        .header-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .chat-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
            background: #FFF5EB;
            position: relative;
        }
        
        /* Mensajes */
        .message {
            max-width: 85%;
            padding: 14px 18px;
            border-radius: 18px;
            line-height: 1.5;
            font-size: 15px;
            position: relative;
            animation: fadeIn 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .bot {
            align-self: flex-start;
            background: #ffffff;
            color: #1F2937;
            border-top-left-radius: 4px;
        }
        
        .user {
            align-self: flex-end;
            background: #FFD1A9;
            color: #1F2937;
            border-top-right-radius: 4px;
        }
        
        .message-time {
            display: block;
            font-size: 11px;
            margin-top: 6px;
            opacity: 0.7;
            text-align: right;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: #ffffff;
            border-radius: 18px;
            max-width: 70px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: #FFD1A9;
            border-radius: 50%;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        /* Footer con botones en columna */
        .chat-footer {
            padding: 16px;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            gap: 10px;
            border-top: 1px solid #E5E7EB;
            box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.04);
        }
        
        .quick-reply {
            background: #FFF5EB;
            color: #1F2937;
            border: 1px solid #FFD1A9;
            border-radius: 20px;
            padding: 12px 18px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
            text-align: left;
            width: 100%;
        }
        
        .quick-reply:hover:not(:disabled) {
            background: #FFD1A9;
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        .quick-reply:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .quick-reply i {
            font-size: 16px;
            min-width: 24px;
        }
        
        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .chat-container {
                max-width: 90%;
                height: 85vh;
            }
            
            .open-chat-btn {
                bottom: 15px;
                right: 15px;
                padding: 12px 18px;
                font-size: 14px;
            }
            
            .quick-reply {
                padding: 10px 16px;
                font-size: 13px;
            }
        }
    </style>

    <script>
        // √Årbol de conversaci√≥n del bot
        const tree = {
            start: { 
                bot: '¬°Hola! üëã Soy tu asistente de soporte. ¬øEn qu√© podemos ayudarte hoy?', 
                options: [
                    { text: 'Soporte t√©cnico', icon: 'fas fa-cogs', next: 'tech' },
                    { text: 'Datos personales', icon: 'fas fa-user-shield', next: 'privacy' },
                    { text: 'Caracter√≠sticas de la plataforma', icon: 'fas fa-list-alt', next: 'features' } 
                ] 
            },
            
            // Soporte t√©cnico
            tech: { 
                bot: 'Entiendo que tienes un problema t√©cnico. ¬øPodr√≠as especificar qu√© est√° sucediendo?', 
                options: [
                    { text: 'Error de carga', icon: 'fas fa-exclamation-triangle', next: 'loadError' },
                    { text: 'Funcionamiento lento', icon: 'fas fa-tachometer-alt', next: 'slow' },
                    { text: 'Problemas de conexi√≥n', icon: 'fas fa-wifi', next: 'connection' },
                    { text: 'Volver al inicio', icon: 'fas fa-home', next: 'start' } 
                ] 
            },
            loadError: { 
                bot: '‚ö†Ô∏è Para solucionar problemas de carga:\n1. Verifica tu conexi√≥n a internet\n2. Actualiza la p√°gina (Ctrl+F5)\n3. Limpia el cach√© de tu navegador\n\n¬øHay algo m√°s en lo que pueda ayudarte?', 
                options: [
                    { text: 'Volver a soporte t√©cnico', icon: 'fas fa-arrow-left', next: 'tech' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ] 
            },
            slow: { 
                bot: 'üê¢ Para mejorar el rendimiento:\n1. Cierra aplicaciones en segundo plano\n2. Limpia el cach√© de tu navegador\n3. Actualiza tu navegador a la √∫ltima versi√≥n\n\n¬øNecesitas algo m√°s?', 
                options: [
                    { text: 'Volver a soporte t√©cnico', icon: 'fas fa-arrow-left', next: 'tech' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ] 
            },
            connection: { 
                bot: 'üì∂ Para resolver problemas de conexi√≥n:\n1. Reinicia tu m√≥dem/router\n2. Verifica otros dispositivos\n3. Prueba con una conexi√≥n diferente\n\n¬øHay algo m√°s que necesites?', 
                options: [
                    { text: 'Volver a soporte t√©cnico', icon: 'fas fa-arrow-left', next: 'tech' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ] 
            },
            
            // Datos personales
            privacy: {
                bot: 'En esta secci√≥n puedes consultar nuestras pol√≠ticas de protecci√≥n de datos. ¬øQu√© deseas saber?',
                options: [
                    { text: 'Pol√≠tica de cookies', icon: 'fas fa-cookie-bite', next: 'cookies' },
                    { text: 'Pol√≠tica de privacidad', icon: 'fas fa-user-lock', next: 'privacy_policy' },
                    { text: 'Volver al inicio', icon: 'fas fa-home', next: 'start' }
                ]
            },
            cookies: {
                bot: 'Nuestra pol√≠tica de cookies explica c√≥mo utilizamos cookies y tecnolog√≠as similares. Puedes consultar la pol√≠tica completa haciendo clic <a style="color:blue" href="Legal/politica-de-cookies.html">aqu√≠</a>',
                options: [
                    { text: 'Volver a datos personales', icon: 'fas fa-arrow-left', next: 'privacy' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ]
            },
            privacy_policy: {
                bot: 'Nuestra pol√≠tica de privacidad describe c√≥mo recopilamos, usamos y protegemos tu informaci√≥n personal. Cons√∫ltala <a style="color:blue" href="Legal/politica-de-privacidad.html">aqu√≠</a>',
                options: [
                    { text: 'Volver a datos personales', icon: 'fas fa-arrow-left', next: 'privacy' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ]
            },
            
            // Caracter√≠sticas de la plataforma
            features: {
                bot: 'Nuestra plataforma cuenta con varias caracter√≠sticas avanzadas. ¬øSobre cu√°l deseas informaci√≥n?',
                options: [
                    { text: 'Analizador de chats', icon: 'fas fa-comments', next: 'chat_analyzer' },
                    { text: 'Base de datos', icon: 'fas fa-database', next: 'database' },
                    { text: 'Servidor MC BR', icon: 'fas fa-server', next: 'server' },
                    { text: 'Volver al inicio', icon: 'fas fa-home', next: 'start' }
                ]
            },
            chat_analyzer: {
                bot: 'El analizador de chats utiliza un algoritmo para evaluar conversaciones y proporcionar m√©tricas de calidad. Procesa archivos .txt con un 100% de precisi√≥n.<br><a style="color:blue" href="/subpaginas/estadisticas.html">Ver analizador</a>',
                options: [
                    { text: 'Volver a caracter√≠sticas', icon: 'fas fa-arrow-left', next: 'features' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ]
            },
            database: {
                bot: 'Nuestra base de datos fue creada para registrar e informar a los usuarios de la comunidad sobre los usuarios problem√°ticos, en ella puedes ver los m√°s recientes incidentes y un informe completo sobre cada uno de ellos.<br><a style="color:blue" href="/base-de-datos.html">Ver base</a>',
                options: [
                    { text: 'Volver a caracter√≠sticas', icon: 'fas fa-arrow-left', next: 'features' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ]
            },
            server: {
                bot: 'El servidor MC BR esta operativo desde el 2022, cuenta con diferentes modalidades y modos de juego. Puedes obtener m√°s detalles <a style="color:blue" href="/categorias-mc.html">aqu√≠</a>',
                options: [
                    { text: 'Volver a caracter√≠sticas', icon: 'fas fa-arrow-left', next: 'features' },
                    { text: 'Inicio', icon: 'fas fa-home', next: 'start' }
                ]
            },
            
            // Estado final
            end: { 
                bot: '¬°Gracias por contactarnos! üòä Si necesitas m√°s ayuda en el futuro, estoy aqu√≠ para asistirte. ¬°Que tengas un excelente d√≠a!', 
                options: [
                    { text: 'Iniciar nueva conversaci√≥n', icon: 'fas fa-sync', next: 'start' } 
                ] 
            }
        };

        const chatOverlay = document.getElementById('chatOverlay');
        const chatBody = document.getElementById('chatBody');
        const chatFooter = document.getElementById('chatFooter');
        const chatImage = document.getElementById('chatImage');
        let currentState = 'start';
        let isProcessing = false;

        function openChat() {
            if (isProcessing) return;
            
            chatOverlay.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            setTimeout(() => {
                chatOverlay.classList.add('show');
            }, 10);
            
            if (!chatBody.hasChildNodes()) {
                renderNode('start');
            }
        }

        function closeChat() {
            if (isProcessing) return;
            
            chatOverlay.classList.remove('show');
            document.body.style.overflow = '';
            setTimeout(() => {
                chatOverlay.style.display = 'none';
            }, 300);
        }

        function clearChat() {
            if (isProcessing) return;
            
            // Deshabilitar botones temporalmente
            disableButtons();
            
            chatBody.innerHTML = '';
            chatFooter.innerHTML = '';
            
            // Renderizar el nodo inicial despu√©s de un peque√±o retraso
            setTimeout(() => {
                renderNode('start');
            }, 300);
        }

        function toggleMaximize() {
            if (isProcessing) return;
            
            const chatContainer = document.querySelector('.chat-container');
            const maximizeBtn = document.querySelector('.header-btn i.fa-expand');
            
            chatContainer.classList.toggle('maximized');
            
            if (chatContainer.classList.contains('maximized')) {
                maximizeBtn.classList.remove('fa-expand');
                maximizeBtn.classList.add('fa-compress');
            } else {
                maximizeBtn.classList.remove('fa-compress');
                maximizeBtn.classList.add('fa-expand');
            }
        }

        function renderNode(nodeKey) {
            if (isProcessing) return;
            
            isProcessing = true;
            currentState = nodeKey;
            const node = tree[nodeKey];
            
            // Deshabilitar todos los botones
            disableButtons();
            
            // Mostrar indicador de escritura antes del mensaje
            const typing = document.createElement('div');
            typing.className = 'typing-indicator';
            typing.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            chatBody.appendChild(typing);
            chatBody.scrollTop = chatBody.scrollHeight;
            
            // Simular tiempo de escritura
            setTimeout(() => {
                typing.remove();
                
                const msg = document.createElement('div');
                msg.className = 'message bot';
                msg.innerHTML = node.bot.replace(/\n/g, '<br>') + 
                    `<span class="message-time">${getCurrentTime()}</span>`;
                chatBody.appendChild(msg);
                chatBody.scrollTop = chatBody.scrollHeight;

                chatFooter.innerHTML = '';
                node.options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = 'quick-reply';
                    btn.innerHTML = `<i class="${opt.icon}"></i> ${opt.text}`;
                    btn.addEventListener('click', () => {
                        if (isProcessing) return;
                        
                        // Deshabilitar botones temporalmente
                        disableButtons();
                        
                        const uMsg = document.createElement('div');
                        uMsg.className = 'message user';
                        uMsg.innerHTML = opt.text + `<span class="message-time">${getCurrentTime()}</span>`;
                        chatBody.appendChild(uMsg);
                        chatBody.scrollTop = chatBody.scrollHeight;
                        
                        // Renderizar el siguiente nodo despu√©s de un peque√±o retraso
                        setTimeout(() => {
                            renderNode(opt.next);
                        }, 300);
                    });
                    chatFooter.appendChild(btn);
                });
                
                // Habilitar botones despu√©s de completar el proceso
                isProcessing = false;
                enableButtons();
            }, 1500);
        }
        
        function disableButtons() {
            // Deshabilitar todos los botones r√°pidos
            const quickReplies = chatFooter.querySelectorAll('.quick-reply');
            quickReplies.forEach(btn => {
                btn.disabled = true;
            });
            
            // Deshabilitar botones de la cabecera
            const headerButtons = document.querySelectorAll('.header-btn');
            headerButtons.forEach(btn => {
                btn.disabled = true;
            });
            
            // Deshabilitar bot√≥n de abrir chat
            const openBtn = document.querySelector('.open-chat-btn');
            if (openBtn) openBtn.disabled = true;
        }
        
        function enableButtons() {
            // Habilitar todos los botones r√°pidos
            const quickReplies = chatFooter.querySelectorAll('.quick-reply');
            quickReplies.forEach(btn => {
                btn.disabled = false;
            });
            
            // Habilitar botones de la cabecera
            const headerButtons = document.querySelectorAll('.header-btn');
            headerButtons.forEach(btn => {
                btn.disabled = false;
            });
            
            // Habilitar bot√≥n de abrir chat
            const openBtn = document.querySelector('.open-chat-btn');
            if (openBtn) openBtn.disabled = false;
        }
        
        function getCurrentTime() {
            const now = new Date();
            return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
        }
    </script>
</body>
</html>